<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: client/SubmitScore.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: client/SubmitScore.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useState, useEffect } from 'react'

function SubmitScore({ score, difficulty }) {

    const [user, setUser] = useState('');
    const [leader, setLeaders] = useState([])

    useEffect(() => {
      fetch('http://localhost:3000/leaderboardScore')
      .then(res => res.json())
      .then(data => setLeaders(data))
    }, [])

    /**
     * This function accepts a synethic event. It creates a user profle, and submits this to the leaderboard
     * @param {Object} e 
     */
   function submitToLeaderboard(e) {
       e.preventDefault();

       const userScore = {
           user: user,
           score: score,
           difficulty: difficulty
       };

       fetch('http://localhost:3000/leaderboard', {
           method: 'POST',
           headers: {
               'Content-Type': 'application/json'
           },
           body: JSON.stringify(userScore),
       })
        .then(res => res.json())
        .then(response => setLeaders(response))
    }

  return (
    &lt;div>
        &lt;h3>Leaderboard&lt;/h3> 
        &lt;ol>
        {leader.map(({ username, score, difficulty }, index) => (
            &lt;li key={index}>{username} Score: {score} Difficulty: {difficulty}&lt;/li>
        ))}
    &lt;/ol>
        &lt;form onSubmit={(e)=> submitToLeaderboard(e)}>
        &lt;input placeholder='Enter Username' onChange={(e)=>setUser(e.target.value)}>&lt;/input>
        &lt;button>Submit Score&lt;/button>
        &lt;/form>
    &lt;/div>
  )
}

export default SubmitScore</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Fri Jun 03 2022 16:24:31 GMT-0700 (Pacific Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
